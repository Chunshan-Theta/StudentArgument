<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Alert page</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <!--     Fonts and icons     -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <!-- CSS Files -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/material-kit.css" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="assets/css/demo.css" rel="stylesheet" />
</head>

<body class="index-page">
    <!-- Navbar -->
    <nav class="navbar navbar-transparent navbar-fixed-top navbar-color-on-scroll">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-index">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="./login">
                    <div class="logo-container">
                        <div class="logo">
                            <img src="assets/img/logo.png" alt="site Logo" rel="tooltip" title="logo" data-placement="bottom" data-html="true">
                        </div>
                        <div class="brand">
                            Argument Sys
                        </div>
                    </div>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="navigation-index">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="./signup">
						    <i class="material-icons">person_add</i> Sign up
					    </a>
                        <!--https://material.io/icons/-->
                    </li>
                    <li>
                        <a href="./login">
						    <i class="material-icons">chat</i> Enter activity
					    </a>
                    </li>
                    <li>
                        <a rel="tooltip" title="About ours" data-placement="bottom" href="http://ytwu.lst.ncu.edu.tw/wu/ch/" target="_blank" class="btn btn-white btn-simple btn-just-icon">
						    <i class="fa fa-info-circle"></i><!--http://fontawesome.io/icons/-->
					    </a>
                    </li>
                    <li>
                        <a rel="tooltip" title="log-out" data-placement="bottom" href="./user/logout" class="btn btn-white btn-simple btn-just-icon">
						    <i class="fa fa-sign-out"></i>
					    </a>
                    </li>
                    <li>
                        <a rel="tooltip" title="Setting" data-placement="bottom" href="./sitting_login" class="btn btn-white btn-simple btn-just-icon">
						    <i class="fa fa-cog"></i>
					    </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Navbar -->
    <div class="wrapper">
        <div class="header header-filter" style="background-image: url('assets/img/bg2.jpeg'); min-height:190px;height:0px;"> </div>
        <div class="main main-raised">
            <div class="section section-basic">
                <!--Main contant -->
                <div id="qusetions" class="container">
                </div>
                <div class="col-md-8 col-md-offset-2">
                    <button class="btn btn-primary" onclick="compute();">compute</button>
                </div>
                <!--/ Main contant -->
            </div>
        </div>
        <footer class="footer">
            <div class="container">
                <nav class="pull-left">
                    <ul>
                        <li>
                            <a href="#">
							Home
						</a>
                        </li>
                        <li>
                            <a href="#">
						   About Us
						</a>
                        </li>
                        <li>
                            <a href="#">
						   Blog
						</a>
                        </li>
                        <li>
                            <a href="#">
							Licenses
						</a>
                        </li>
                    </ul>
                </nav>
                <div class="copyright pull-right">
                    &copy; 2018, made with <i class="fa fa-terminal"></i> Nodejs by Theta for argument system in WuRET.
                </div>
            </div>
        </footer>
    </div>
</body>
<!--   Core JS Files   -->
<script src="assets/js/jquery.min.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/js/material.min.js"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="assets/js/nouislider.min.js" type="text/javascript"></script>
<!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
<script src="assets/js/bootstrap-datepicker.js" type="text/javascript"></script>
<!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
<script src="assets/js/material-kit.js" type="text/javascript"></script>
<script type="text/javascript">
$().ready(function() {
    // the body of this function is in assets/material-kit.js
    materialKit.initSliders();
    window_width = $(window).width();

    if (window_width >= 992) {
        big_image = $('.wrapper > .header');

        $(window).on('scroll', materialKitDemo.checkScrollForParallax);
    }

});
</script>
<script type="text/javascript">
function compute() {
	var re = compute_ALL();
	if(re != '-1'){
		
        $.ajax({
        url: './tester/score',
        type: 'PUT',
        data: {
            'stu_id': "<%=t_id%>",
            'scores': re
        },
        success: function(response) {
            add_teacher_re = JSON.parse(response);
            console.log(add_teacher_re);
            alert(add_teacher_re['text'] + ' , ' + add_teacher_re['status'])
            location.href = '/';
        }
    });
	}
}

function compute_ALL() {
    var Radionames = ["optionsRadios_0","optionsRadios_1", "optionsRadios_2", "optionsRadios_3", "optionsRadios_4"];

    result = 0;
    for (var i in Radionames) {
        var scroce = parseInt(compute_Radio(Radionames[i]));
        if (scroce == 0 && document.getElementsByName(Radionames[i]).length) {
            alert(Radionames[i] + '  not input');
            return('-1');

        }
        result += scroce;
    }
    return(result);
}

function compute_Radio(Radioname) {
    var radios = document.getElementsByName(Radioname);
    var scroce = 0;
    for (var i = 0, length = radios.length; i < length; i++) {
        if (radios[i].checked) {
            // do whatever you want with the checked radio
            scroce = radios[i].value;

            // only one radio can be logically checked, don't check the rest
            break;
        }
    }
    return (scroce);
}
</script>
<script type="text/javascript">
$.get("./assessment", {
        "a_id":'<%=a_id%>'

    },
    function(data, status) {
        activity_list = JSON.parse(data);
        console.log(activity_list);
        if(activity_list['return'].length<1){
        	location.href ='/alert?error_id=200&error_con="wait for your teacher."';
        }
        for (var g in activity_list['return']) {
            content = activity_list['return'][g]['content'];
            $('#qusetions').append('<div id="q' + g + '" class="col-sm-12"></div>');
            $('#q' + g).append('<div class="title"><h3>question ' + content + ' </h3></div>');
            




            var select_list = ["Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"];
            for (var i = 1; i < 6; i++) {
                $('#q' + g).append('<div class=""><label><input type="radio" name="optionsRadios_' + g + '" value="' + i + '">' + select_list[i-1] + '</label></div>');
            }

        }


    }
);
/*
for (var g = 1; g < 5; g++) {
    $('#qusetions').append('<div id="q' + g + '" class="col-sm-12"></div>');
    $('#q' + g).append('<div class="title"><h3>question ' + g + ' </h3></div>');
    for (var i = 1; i < 6; i++) {
        $('#q' + g).append('<div class="radio"><label><input type="radio" name="optionsRadios_' + g + '" value="' + i + '">' + i + '</label></div>');
    }
}*/
</script>

</html>